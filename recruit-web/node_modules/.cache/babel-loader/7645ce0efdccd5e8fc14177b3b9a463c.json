{"remainingRequest":"E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\src\\views\\update-password.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\src\\views\\update-password.vue","mtime":1718265571088},{"path":"E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718265561288},{"path":"E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1718265560496},{"path":"E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1718265561288},{"path":"E:\\software-engineering\\Software-Engineering-Projects\\recruit-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1718265569958}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBydWxlRm9ybToge30sCiAgICAgIHVzZXI6IHt9LAogICAgICBydWxlczogewogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5a+G56CB5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIG5ld3Bhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5paw5a+G56CB5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHJlcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLnoa7orqTlr4bnoIHkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGh0dHAoewogICAgICB1cmw6ICIiLmNvbmNhdCh0aGlzLiRzdG9yYWdlLmdldCgic2Vzc2lvblRhYmxlIiksICIvc2Vzc2lvbiIpLAogICAgICBtZXRob2Q6ICJnZXQiCiAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgX3RoaXMudXNlciA9IGRhdGEuZGF0YTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb25VcGRhdGVIYW5kbGVyOiBmdW5jdGlvbiBvblVwZGF0ZUhhbmRsZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1sicnVsZUZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBwYXNzd29yZCA9ICIiOwoKICAgICAgICAgIGlmIChfdGhpczIudXNlci5taW1hKSB7CiAgICAgICAgICAgIHBhc3N3b3JkID0gX3RoaXMyLnVzZXIubWltYTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnVzZXIucGFzc3dvcmQpIHsKICAgICAgICAgICAgcGFzc3dvcmQgPSBfdGhpczIudXNlci5wYXNzd29yZDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMyLnJ1bGVGb3JtLnBhc3N3b3JkICE9IHBhc3N3b3JkKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi5Y6f5a+G56CB6ZSZ6K+vIik7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzMi5ydWxlRm9ybS5uZXdwYXNzd29yZCAhPSBfdGhpczIucnVsZUZvcm0ucmVwYXNzd29yZCkgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoIuS4pOasoeWvhueggei+k+WFpeS4jeS4gOiHtCIpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi51c2VyLnBhc3N3b3JkID0gX3RoaXMyLnJ1bGVGb3JtLm5ld3Bhc3N3b3JkOwogICAgICAgICAgX3RoaXMyLnVzZXIubWltYSA9IF90aGlzMi5ydWxlRm9ybS5uZXdwYXNzd29yZDsKCiAgICAgICAgICBfdGhpczIuJGh0dHAoewogICAgICAgICAgICB1cmw6ICIiLmNvbmNhdChfdGhpczIuJHN0b3JhZ2UuZ2V0KCJzZXNzaW9uVGFibGUiKSwgIi91cGRhdGUiKSwKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIGRhdGE6IF90aGlzMi51c2VyCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CgogICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/ruaUueWvhueggeaIkOWKnyzkuIvmrKHnmbvlvZXns7vnu5/nlJ/mlYgiLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsCiAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgey8vIE9wdGlvbmFsOiBsb2dvdXQgb3IgcmVkaXJlY3QgdXNlcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["update-password.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n    <el-form\n      class=\"detail-form-content\"\n      ref=\"ruleForm\"\n      :rules=\"rules\"\n      :model=\"ruleForm\"\n      label-width=\"80px\"\n    >\n      <h1 class=\"title\">修改密码</h1>\n      <el-form-item label=\"原密码\" prop=\"password\">\n        <el-input show-password type=\"password\" v-model=\"ruleForm.password\" placeholder=\"请输入原密码\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"新密码\" prop=\"newpassword\">\n        <el-input show-password type=\"password\" v-model=\"ruleForm.newpassword\" placeholder=\"请输入新密码\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"repassword\">\n        <el-input show-password type=\"password\" v-model=\"ruleForm.repassword\" placeholder=\"请确认新密码\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onUpdateHandler\">确 定</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      ruleForm: {},\n      user: {},\n      rules: {\n        password: [\n          {\n            required: true,\n            message: \"密码不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        newpassword: [\n          {\n            required: true,\n            message: \"新密码不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        repassword: [\n          {\n            required: true,\n            message: \"确认密码不能为空\",\n            trigger: \"blur\"\n          }\n        ]\n      }\n    };\n  },\n  mounted() {\n    this.$http({\n      url: `${this.$storage.get(\"sessionTable\")}/session`,\n      method: \"get\"\n    }).then(({ data }) => {\n      if (data && data.code === 0) {\n        this.user = data.data;\n      } else {\n        this.$message.error(data.msg);\n      }\n    });\n  },\n  methods: {\n    onUpdateHandler() {\n      this.$refs[\"ruleForm\"].validate(valid => {\n        if (valid) {\n          var password = \"\";\n          if (this.user.mima) {\n            password = this.user.mima;\n          } else if (this.user.password) {\n            password = this.user.password;\n          }\n          if (this.ruleForm.password != password) {\n            this.$message.error(\"原密码错误\");\n            return;\n          }\n          if (this.ruleForm.newpassword != this.ruleForm.repassword) {\n            this.$message.error(\"两次密码输入不一致\");\n            return;\n          }\n          this.user.password = this.ruleForm.newpassword;\n          this.user.mima = this.ruleForm.newpassword;\n          this.$http({\n            url: `${this.$storage.get(\"sessionTable\")}/update`,\n            method: \"post\",\n            data: this.user\n          }).then(({ data }) => {\n            if (data && data.code === 0) {\n              this.$message({\n                message: \"修改密码成功,下次登录系统生效\",\n                type: \"success\",\n                duration: 1500,\n                onClose: () => {\n                  // Optional: logout or redirect user\n                }\n              });\n            } else {\n              this.$message.error(data.msg);\n            }\n          });\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\nbody, html {\n  height: 100%;\n  margin: 0;\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n#app {\n  background-image: url('../assets/img/basicinfobackground.png'); /* 确认路径正确 */\n  background-size: cover;\n  background-position: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.detail-form-content {\n  background: rgba(255, 255, 255, 0.9); /* 白色半透明背景 */\n  padding: 30px;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* 阴影效果 */\n  width: 400px;\n  max-width: 100%;\n}\n\n.el-form-item {\n  margin-bottom: 20px;\n}\n\n.el-input, .el-button {\n  width: 100%;\n  border-radius: 5px;\n}\n\n.el-input {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  transition: box-shadow 0.3s ease;\n}\n\n.el-input:hover {\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.el-button {\n  margin-top: 10px;\n}\n\n.title {\n  text-align: center;\n  font-size: 24px;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 20px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}