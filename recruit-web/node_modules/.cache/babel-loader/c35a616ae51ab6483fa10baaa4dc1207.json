{"remainingRequest":"E:\\git\\github\\Software-Engineering-Projects\\admin\\node_modules\\babel-loader\\lib\\index.js!E:\\git\\github\\Software-Engineering-Projects\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\git\\github\\Software-Engineering-Projects\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\git\\github\\Software-Engineering-Projects\\admin\\src\\views\\modules\\friendly_links\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\git\\github\\Software-Engineering-Projects\\admin\\src\\views\\modules\\friendly_links\\list.vue","mtime":1717079255780},{"path":"E:\\git\\github\\Software-Engineering-Projects\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716463263622},{"path":"E:\\git\\github\\Software-Engineering-Projects\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1716463263168},{"path":"E:\\git\\github\\Software-Engineering-Projects\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716463263622},{"path":"E:\\git\\github\\Software-Engineering-Projects\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1716463268123}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFkZE9yVXBkYXRlIGZyb20gIi4vYWRkLW9yLXVwZGF0ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoRm9ybTogewogICAgICAgIHdlYm5hbWU6ICIiLAogICAgICAgIGtleTogIiIKICAgICAgfSwKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBwYWdlSW5kZXg6IDEsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgdG90YWxQYWdlOiAwLAogICAgICBkYXRhTGlzdExvYWRpbmc6IGZhbHNlLAogICAgICBkYXRhTGlzdFNlbGVjdGlvbnM6IFtdLAogICAgICBzaG93RmxhZzogdHJ1ZSwKICAgICAgYWRkT3JVcGRhdGVGbGFnOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFkZE9yVXBkYXRlOiBBZGRPclVwZGF0ZQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsvLyDliJ3lp4vljJbmk43kvZwKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g6I635Y+W5pWw5o2u5YiX6KGoCiAgICBnZXREYXRhTGlzdDogZnVuY3Rpb24gZ2V0RGF0YUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmRhdGFMaXN0TG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcGFnZTogdGhpcy5wYWdlSW5kZXgsCiAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsCiAgICAgICAgc29ydDogJ2lkJwogICAgICB9OwoKICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS53ZWJuYW1lKSB7CiAgICAgICAgcGFyYW1zWyd3ZWJuYW1lJ10gPSAnJScgKyB0aGlzLnNlYXJjaEZvcm0ud2VibmFtZSArICclJzsKICAgICAgfQoKICAgICAgdGhpcy4kaHR0cC5nZXQoImZyaWVuZGx5X2xpbmtzL3BhZ2UiLCB7CiAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgICBfdGhpcy50b3RhbFBhZ2UgPSBkYXRhLmRhdGEudG90YWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gW107CiAgICAgICAgICBfdGhpcy50b3RhbFBhZ2UgPSAwOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOavj+mhteaVsAogICAgc2l6ZUNoYW5nZUhhbmRsZTogZnVuY3Rpb24gc2l6ZUNoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g5b2T5YmN6aG1CiAgICBjdXJyZW50Q2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBjdXJyZW50Q2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VJbmRleCA9IHZhbDsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIC8vIOWkmumAiQogICAgc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcih2YWwpIHsKICAgICAgdGhpcy5kYXRhTGlzdFNlbGVjdGlvbnMgPSB2YWw7CiAgICB9LAogICAgLy8g5re75YqgL+S/ruaUuQogICAgYWRkT3JVcGRhdGVIYW5kbGVyOiBmdW5jdGlvbiBhZGRPclVwZGF0ZUhhbmRsZXIoaWQsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuYWRkT3JVcGRhdGVGbGFnID0gdHJ1ZTsKICAgICAgaWYgKHR5cGUgIT09ICdpbmZvJykgdHlwZSA9ICdlbHNlJzsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy5hZGRPclVwZGF0ZS5pbml0KGlkLCB0eXBlKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBkZWxldGVIYW5kbGVyOiBmdW5jdGlvbiBkZWxldGVIYW5kbGVyKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGlkcyA9IGlkID8gW051bWJlcihpZCldIDogdGhpcy5kYXRhTGlzdFNlbGVjdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIE51bWJlcihpdGVtLmlkKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJGNvbmZpcm0oIlx1Nzg2RVx1NUI5QVx1OEZEQlx1ODg0Q1siLmNvbmNhdChpZCA/ICLliKDpmaQiIDogIuaJuemHj+WIoOmZpCIsICJdXHU2NENEXHU0RjVDPyIpLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRodHRwLnBvc3QoImZyaWVuZGx5X2xpbmtzL2RlbGV0ZSIsIGlkcykudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKCiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIsIHsKICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICAgICAgICAgICAgX3RoaXMzLnNlYXJjaCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBpc0F1dGg6IGZ1bmN0aW9uIGlzQXV0aChyZXNvdXJjZSwgYWN0aW9uKSB7CiAgICAgIC8vIOadg+mZkOmqjOivgemAu+i+ke+8jOi/lOWbniB0cnVlIOaIliBmYWxzZQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div v-if=\"showFlag\">\r\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"form-content\">\r\n        <!-- 表单项目，包含一个输入框和多个按钮 -->\r\n        <el-form-item label=\"网站名称\">\r\n          <el-input v-model=\"searchForm.webname\" placeholder=\"网站名称\" clearable></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 表单项目，包含查询、新增和删除按钮 -->\r\n        <el-form-item>\r\n          <el-button round @click=\"search()\">查询</el-button>\r\n          <el-button\r\n              v-if=\"isAuth('friendly_links', '新增')\"\r\n              type=\"primary\"\r\n              @click=\"addOrUpdateHandler()\"\r\n              round\r\n          >新增</el-button>\r\n          <el-button\r\n              v-if=\"isAuth('friendly_links', '删除')\"\r\n              :disabled=\"dataListSelections.length <= 0\"\r\n              type=\"danger\"\r\n              @click=\"deleteHandler()\"\r\n              round\r\n          >删除</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"table-content\">\r\n        <el-table\r\n            v-if=\"isAuth('friendly_links', '查看')\"\r\n            :data=\"dataList\"\r\n            border\r\n            v-loading=\"dataListLoading\"\r\n            @selection-change=\"selectionChangeHandler\"\r\n            style=\"width: 100%;\">\r\n\r\n          <!-- 表格选择列 -->\r\n          <el-table-column\r\n              type=\"selection\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              width=\"50\">\r\n          </el-table-column>\r\n\r\n          <!-- 网站名称列 -->\r\n          <el-table-column\r\n              prop=\"webname\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"网站名称\"\r\n              width=\"200\"\r\n              class-name=\"webname-header\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.webname }}\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <!-- logo 列 -->\r\n          <el-table-column\r\n              prop=\"logo\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              width=\"300\"\r\n              height=\"100\"\r\n              label=\"logo\">\r\n            <template slot-scope=\"scope\">\r\n              <div v-if=\"scope.row.logo\">\r\n                <div style=\"width: 300px; height: 100px; display: flex; justify-content: center; align-items: center;\">\r\n                  <img :src=\"scope.row.logo.split(',')[0]\" style=\"width: 100%; height: 100%; object-fit: contain;\">\r\n                </div>\r\n              </div>\r\n              <div v-else>\r\n                <span class=\"demonstration\"></span>\r\n                <el-image style=\"width: 100%; height: 100%; align-self:center \">\r\n                  <div slot=\"error\" class=\"image-slot\">\r\n                    <i class=\"el-icon-picture-outline\"></i>\r\n                  </div>\r\n                </el-image>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <!-- 网址列 -->\r\n          <el-table-column\r\n              prop=\"website\"\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              sortable\r\n              label=\"网址\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.website }}\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <!-- 操作列 -->\r\n          <el-table-column\r\n              header-align=\"center\"\r\n              align=\"center\"\r\n              label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button v-if=\"isAuth('friendly_links', '查看')\" type=\"text\" icon=\"el-icon-edit\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id, 'info')\">详情</el-button>\r\n              <el-button v-if=\"isAuth('friendly_links', '修改')\" type=\"text\" icon=\"el-icon-edit\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id)\">修改</el-button>\r\n              <el-button v-if=\"isAuth('friendly_links', '删除')\" type=\"text\" icon=\"el-icon-delete\" size=\"small\" @click=\"deleteHandler(scope.row.id)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n\r\n        </el-table>\r\n\r\n        <el-pagination\r\n            @size-change=\"sizeChangeHandle\"\r\n            @current-change=\"currentChangeHandle\"\r\n            :current-page=\"pageIndex\"\r\n            :page-sizes=\"[5,10, 20, 50, 100]\"\r\n            :page-size=\"pageSize\"\r\n            :total=\"totalPage\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            class=\"pagination-content\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n    <!-- 添加/修改页面  将父组件的search方法传递给子组件-->\r\n    <add-or-update v-if=\"addOrUpdateFlag\" :parent=\"this\" ref=\"addOrUpdate\"></add-or-update>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddOrUpdate from \"./add-or-update\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        webname: \"\",\r\n        key: \"\"\r\n      },\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      totalPage: 0,\r\n      dataListLoading: false,\r\n      dataListSelections: [],\r\n      showFlag: true,\r\n      addOrUpdateFlag: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n    this.getDataList();\r\n  },\r\n  components: {\r\n    AddOrUpdate,\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 初始化操作\r\n    },\r\n    search() {\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      let params = {\r\n        page: this.pageIndex,\r\n        limit: this.pageSize,\r\n        sort: 'id',\r\n      };\r\n      if (this.searchForm.webname) {\r\n        params['webname'] = '%' + this.searchForm.webname + '%';\r\n      }\r\n      this.$http.get(\"friendly_links/page\", { params }).then(({ data }) => {\r\n        if (data && data.code === 0) {\r\n          this.dataList = data.data.list;\r\n          this.totalPage = data.data.total;\r\n        } else {\r\n          this.dataList = [];\r\n          this.totalPage = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 多选\r\n    selectionChangeHandler(val) {\r\n      this.dataListSelections = val;\r\n    },\r\n    // 添加/修改\r\n    addOrUpdateHandler(id, type) {\r\n      this.showFlag = false;\r\n      this.addOrUpdateFlag = true;\r\n      if (type !== 'info') type = 'else';\r\n      this.$nextTick(() => {\r\n        this.$refs.addOrUpdate.init(id, type);\r\n      });\r\n    },\r\n    // 删除\r\n    deleteHandler(id) {\r\n      const ids = id ? [Number(id)] : this.dataListSelections.map(item => Number(item.id));\r\n      this.$confirm(`确定进行[${id ? \"删除\" : \"批量删除\"}]操作?`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http.post(\"friendly_links/delete\", ids).then(({data}) => {\r\n          if (data && data.code === 0) {\r\n            this.$message.success(\"操作成功\", {\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.search();\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    isAuth(resource, action) {\r\n      // 权限验证逻辑，返回 true 或 false\r\n      return true;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.webname-header .cell {\r\n  background-color: #FFC0CB;\r\n}\r\n\r\n.pagination-content {\r\n  margin-top: 2px;\r\n  text-align: right;\r\n  color: #6c757d;\r\n  font-size: 14px;\r\n}\r\n.main-content {\r\n  background-image: url('../../../assets/img/friendlybackground.png'); /* 确保路径正确 */\r\n  background-size: cover;\r\n  background-position: center;\r\n  padding: 20px;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.form-content {\r\n  background: rgba(255, 255, 255, 0.9); /* 减少透明度，增加对比度 */\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* 增加阴影效果 */\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  justify-content: space-between; /* 调整布局 */\r\n  align-items: center;\r\n  gap: 20px;\r\n  width: 100%;\r\n  max-width: 900px; /* 限制最大宽度 */\r\n}\r\n\r\n.table-content {\r\n  width: 100%;\r\n  max-width: 900px; /* 限制最大宽度 */\r\n  background: rgba(255, 255, 255, 0.95); /* 减少透明度，增加对比度 */\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4); /* 增加阴影效果 */\r\n}\r\n\r\n.el-table {\r\n  table-layout: fixed; /* 固定表格布局 */\r\n  width: 100%; /* 确保表格宽度为100% */\r\n}\r\n\r\n.el-table th, .el-table td {\r\n  text-align: center; /* 表格内容居中 */\r\n  padding: 12px 8px; /* 调整表格内边距 */\r\n}\r\n\r\n.el-table-column {\r\n  background-color: rgba(255, 255, 255, 0.85); /* 调整背景透明度 */\r\n}\r\n\r\n.el-table__header-wrapper th {\r\n  background-color: rgba(245, 245, 245, 0.95); /* 表头背景色 */\r\n  color: #333; /* 表头字体颜色 */\r\n  font-weight: bold; /* 表头字体加粗 */\r\n}\r\n\r\n.el-table__row:hover {\r\n  background-color: rgba(240, 240, 240, 0.8); /* 行悬停效果 */\r\n}\r\n\r\n.el-pagination {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.el-button {\r\n  border-radius: 20px; /* 圆角按钮 */\r\n}\r\n\r\n.el-input {\r\n  border-radius: 10px; /* 增加输入框圆角 */\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 0; /* 去除表单项底部外边距 */\r\n}\r\n\r\n.el-form-item__content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px; /* 增加表单项内元素的间距 */\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/modules/friendly_links"}]}