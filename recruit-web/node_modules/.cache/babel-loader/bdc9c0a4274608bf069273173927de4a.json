{"remainingRequest":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\babel-loader\\lib\\index.js!E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\1\\Software-Engineering-Projects\\recruit-web\\src\\views\\modules\\jobseekerinfo\\export-pdf.js","dependencies":[{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\src\\views\\modules\\jobseekerinfo\\export-pdf.js","mtime":1717224114259},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717224099637},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1717224098465},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\eslint-loader\\index.js","mtime":1717224104858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKaW1wb3J0IGpzUERGIGZyb20gJ2pzcGRmJzsKZXhwb3J0IGRlZmF1bHQgewogIGV4cG9ydFBkZjogZnVuY3Rpb24gZXhwb3J0UGRmKGVsZW1lbnRJZCwgaHRtbFRpdGxlKSB7CiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7CiAgICBodG1sMmNhbnZhcyhlbGVtZW50LCB7CiAgICAgIGxvZ2dpbmc6IHRydWUsCiAgICAgIGFsbG93VGFpbnQ6IHRydWUsCiAgICAgIHVzZUNPUlM6IHRydWUsCiAgICAgIHRhaW50dGVzdDogdHJ1ZQogICAgfSkudGhlbihmdW5jdGlvbiAoY2FudmFzKSB7CiAgICAgIHZhciBwZGYgPSBuZXcganNQREYoJ3AnLCAnbW0nLCAnYTQnKTsgLy9BNOe6uO+8jOe6teWQkQoKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLAogICAgICAgICAgYTR3ID0gMTkwLAogICAgICAgICAgYTRoID0gMjc3LAogICAgICAgICAgLy9BNOWkp+Wwj++8jDIxMG1tIHggMjk3bW3vvIzlm5vovrnlkITkv53nlZkxMG1t55qE6L656Led77yM5pi+56S65Yy65Z+fMTkweDI3NwogICAgICBpbWdIZWlnaHQgPSBNYXRoLmZsb29yKGE0aCAqIGNhbnZhcy53aWR0aCAvIGE0dyksCiAgICAgICAgICAvL+aMiUE05pi+56S65q+U5L6L5o2i566X5LiA6aG15Zu+5YOP55qE5YOP57Sg6auY5bqmCiAgICAgIHJlbmRlcmVkSGVpZ2h0ID0gMDsKCiAgICAgIHdoaWxlIChyZW5kZXJlZEhlaWdodCA8IGNhbnZhcy5oZWlnaHQpIHsKICAgICAgICB2YXIgcGFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogICAgICAgIHBhZ2Uud2lkdGggPSBjYW52YXMud2lkdGg7CiAgICAgICAgcGFnZS5oZWlnaHQgPSBNYXRoLm1pbihpbWdIZWlnaHQsIGNhbnZhcy5oZWlnaHQgLSByZW5kZXJlZEhlaWdodCk7IC8v5Y+v6IO95YaF5a655LiN6Laz5LiA6aG1CiAgICAgICAgLy/nlKhnZXRJbWFnZURhdGHliaroo4HmjIflrprljLrln5/vvIzlubbnlLvliLDliY3pnaLliJvlu7rnmoRjYW52YXPlr7nosaHkuK0KCiAgICAgICAgcGFnZS5nZXRDb250ZXh0KCcyZCcpLnB1dEltYWdlRGF0YShjdHguZ2V0SW1hZ2VEYXRhKDAsIHJlbmRlcmVkSGVpZ2h0LCBjYW52YXMud2lkdGgsIE1hdGgubWluKGltZ0hlaWdodCwgY2FudmFzLmhlaWdodCAtIHJlbmRlcmVkSGVpZ2h0KSksIDAsIDApOwogICAgICAgIHBkZi5hZGRJbWFnZShwYWdlLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDEuMCksICdKUEVHJywgMTAsIDEwLCBhNHcsIE1hdGgubWluKGE0aCwgYTR3ICogcGFnZS5oZWlnaHQgLyBwYWdlLndpZHRoKSk7IC8v5re75Yqg5Zu+5YOP5Yiw6aG16Z2i77yM5L+d55WZMTBtbei+uei3nQoKICAgICAgICByZW5kZXJlZEhlaWdodCArPSBpbWdIZWlnaHQ7CiAgICAgICAgaWYgKHJlbmRlcmVkSGVpZ2h0IDwgY2FudmFzLmhlaWdodCkgcGRmLmFkZFBhZ2UoKTsgLy/lpoLmnpzlkI7pnaLov5jmnInlhoXlrrnvvIzmt7vliqDkuIDkuKrnqbrpobUKICAgICAgfQoKICAgICAgcGRmLnNhdmUoaHRtbFRpdGxlKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["E:/1/Software-Engineering-Projects/recruit-web/src/views/modules/jobseekerinfo/export-pdf.js"],"names":["html2canvas","jsPDF","exportPdf","elementId","htmlTitle","element","document","getElementById","logging","allowTaint","useCORS","tainttest","then","canvas","pdf","ctx","getContext","a4w","a4h","imgHeight","Math","floor","width","renderedHeight","height","page","createElement","min","putImageData","getImageData","addImage","toDataURL","addPage","save"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AAEbC,EAAAA,SAFa,qBAEHC,SAFG,EAEQC,SAFR,EAEmB;AAC9B,QAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,SAAxB,CAAd;AACAH,IAAAA,WAAW,CAACK,OAAD,EAAU;AACnBG,MAAAA,OAAO,EAAE,IADU;AAEnBC,MAAAA,UAAU,EAAE,IAFO;AAGnBC,MAAAA,OAAO,EAAE,IAHU;AAInBC,MAAAA,SAAS,EAAE;AAJQ,KAAV,CAAX,CAKGC,IALH,CAKQ,UAAUC,MAAV,EAAkB;AACxB,UAAIC,GAAG,GAAG,IAAIb,KAAJ,CAAU,GAAV,EAAe,IAAf,EAAqB,IAArB,CAAV,CADwB,CACc;;AACtC,UAAIc,GAAG,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAV;AAAA,UACEC,GAAG,GAAG,GADR;AAAA,UAEEC,GAAG,GAAG,GAFR;AAAA,UAEa;AACXC,MAAAA,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWH,GAAG,GAAGL,MAAM,CAACS,KAAb,GAAqBL,GAAhC,CAHd;AAAA,UAGoD;AAClDM,MAAAA,cAAc,GAAG,CAJnB;;AAMA,aAAOA,cAAc,GAAGV,MAAM,CAACW,MAA/B,EAAuC;AACrC,YAAIC,IAAI,GAAGnB,QAAQ,CAACoB,aAAT,CAAuB,QAAvB,CAAX;AACAD,QAAAA,IAAI,CAACH,KAAL,GAAaT,MAAM,CAACS,KAApB;AACAG,QAAAA,IAAI,CAACD,MAAL,GAAcJ,IAAI,CAACO,GAAL,CAASR,SAAT,EAAoBN,MAAM,CAACW,MAAP,GAAgBD,cAApC,CAAd,CAHqC,CAG8B;AAEnE;;AACAE,QAAAA,IAAI,CAACT,UAAL,CAAgB,IAAhB,EAAsBY,YAAtB,CAAmCb,GAAG,CAACc,YAAJ,CAAiB,CAAjB,EAAoBN,cAApB,EAAoCV,MAAM,CAACS,KAA3C,EAAkDF,IAAI,CAACO,GAAL,CAASR,SAAT,EAAoBN,MAAM,CAACW,MAAP,GAAgBD,cAApC,CAAlD,CAAnC,EAA2I,CAA3I,EAA8I,CAA9I;AACAT,QAAAA,GAAG,CAACgB,QAAJ,CAAaL,IAAI,CAACM,SAAL,CAAe,YAAf,EAA6B,GAA7B,CAAb,EAAgD,MAAhD,EAAwD,EAAxD,EAA4D,EAA5D,EAAgEd,GAAhE,EAAqEG,IAAI,CAACO,GAAL,CAAST,GAAT,EAAcD,GAAG,GAAGQ,IAAI,CAACD,MAAX,GAAoBC,IAAI,CAACH,KAAvC,CAArE,EAPqC,CAOgF;;AAErHC,QAAAA,cAAc,IAAIJ,SAAlB;AACA,YAAII,cAAc,GAAGV,MAAM,CAACW,MAA5B,EACEV,GAAG,CAACkB,OAAJ,GAXmC,CAWpB;AAClB;;AAEDlB,MAAAA,GAAG,CAACmB,IAAJ,CAAS7B,SAAT;AACD,KA5BD;AA6BD;AAjCY,CAAf","sourcesContent":["import html2canvas from 'html2canvas'\r\nimport jsPDF from 'jspdf'\r\n\r\nexport default {\r\n\r\n  exportPdf(elementId, htmlTitle) {\r\n    var element = document.getElementById(elementId);\r\n    html2canvas(element, {\r\n      logging: true,\r\n      allowTaint: true,\r\n      useCORS: true,\r\n      tainttest: true,\r\n    }).then(function (canvas) {\r\n      var pdf = new jsPDF('p', 'mm', 'a4'); //A4纸，纵向\r\n      var ctx = canvas.getContext('2d'),\r\n        a4w = 190,\r\n        a4h = 277, //A4大小，210mm x 297mm，四边各保留10mm的边距，显示区域190x277\r\n        imgHeight = Math.floor(a4h * canvas.width / a4w), //按A4显示比例换算一页图像的像素高度\r\n        renderedHeight = 0;\r\n\r\n      while (renderedHeight < canvas.height) {\r\n        var page = document.createElement(\"canvas\");\r\n        page.width = canvas.width;\r\n        page.height = Math.min(imgHeight, canvas.height - renderedHeight); //可能内容不足一页\r\n\r\n        //用getImageData剪裁指定区域，并画到前面创建的canvas对象中\r\n        page.getContext('2d').putImageData(ctx.getImageData(0, renderedHeight, canvas.width, Math.min(imgHeight, canvas.height - renderedHeight)), 0, 0);\r\n        pdf.addImage(page.toDataURL('image/jpeg', 1.0), 'JPEG', 10, 10, a4w, Math.min(a4h, a4w * page.height / page.width)); //添加图像到页面，保留10mm边距\r\n\r\n        renderedHeight += imgHeight;\r\n        if (renderedHeight < canvas.height)\r\n          pdf.addPage(); //如果后面还有内容，添加一个空页\r\n      }\r\n\r\n      pdf.save(htmlTitle);\r\n    });\r\n  }\r\n}\r\n"]}]}