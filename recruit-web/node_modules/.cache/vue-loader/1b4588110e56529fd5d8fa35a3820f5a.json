{"remainingRequest":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\1\\Software-Engineering-Projects\\recruit-web\\src\\views\\modules\\config\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\src\\views\\modules\\config\\list.vue","mtime":1717224114246},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717224099637},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1717224098465},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717224099637},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1717224112413}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQWRkT3JVcGRhdGUgZnJvbSAiLi9hZGQtb3ItdXBkYXRlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkYXRhTGlzdDogW10sDQogICAgICBwYWdlSW5kZXg6IDEsDQogICAgICBwYWdlU2l6ZTogMTAsDQogICAgICB0b3RhbFBhZ2U6IDAsDQogICAgICBkYXRhTGlzdExvYWRpbmc6IGZhbHNlLA0KICAgICAgc2hvd0ZsYWc6IGZhbHNlLA0KICAgICAgaXNFZGl0aW5nOiBmYWxzZSwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIEFkZE9yVXBkYXRlDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzZWFyY2goKSB7DQogICAgICB0aGlzLnBhZ2VJbmRleCA9IDE7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICAvLyDojrflj5bmlbDmja7liJfooagNCiAgICBnZXREYXRhTGlzdCgpIHsNCiAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMuJGh0dHAoew0KICAgICAgICB1cmw6IHRoaXMuJGFwaS5jb25maWdwYWdlLA0KICAgICAgICBtZXRob2Q6ICJnZXQiLA0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2VJbmRleCwNCiAgICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgICBzb3J0OiAnaWQnDQogICAgICAgIH0NCiAgICAgIH0pLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhLmRhdGEubGlzdDsNCiAgICAgICAgICB0aGlzLnRvdGFsUGFnZSA9IGRhdGEuZGF0YS50b3RhbDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gW107DQogICAgICAgICAgdGhpcy50b3RhbFBhZ2UgPSAwOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOavj+mhteaVsA0KICAgIHNpemVDaGFuZ2VIYW5kbGUodmFsKSB7DQogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOw0KICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOw0KICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgIH0sDQogICAgLy8g5b2T5YmN6aG1DQogICAgY3VycmVudENoYW5nZUhhbmRsZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZUluZGV4ID0gdmFsOw0KICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgIH0sDQogICAgLy8g5re75YqgL+S/ruaUuQ0KICAgIGFkZE9yVXBkYXRlSGFuZGxlcihyb3cpIHsNCiAgICAgIHRoaXMuaXNFZGl0aW5nID0gISFyb3cuaWQ7DQogICAgICB0aGlzLnNob3dGbGFnID0gdHJ1ZTsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5hZGRPclVwZGF0ZS5pbml0KHJvdyk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWIoOmZpOmFjee9rg0KICAgIGRlbGV0ZUhhbmRsZXIocm93KSB7DQogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XphY3nva4sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6Jywgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRodHRwKHsNCiAgICAgICAgICB1cmw6IHRoaXMuJGFwaS5jb25maWdwYWdlICsgJy8nICsgcm93LmlkLA0KICAgICAgICAgIG1ldGhvZDogJ2RlbGV0ZScNCiAgICAgICAgfSkudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/modules/config","sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div v-if=\"!showFlag\">\r\n      <div class=\"header\">\r\n<!--        <el-button type=\"primary\" @click=\"addOrUpdateHandler({})\" icon=\"el-icon-plus\">添加新配置</el-button>-->\r\n      </div>\r\n      <div class=\"table-content1\">\r\n        <el-table :data=\"dataList\" border stripe v-loading=\"dataListLoading\" style=\"width: 100%;\">\r\n          <el-table-column prop=\"id\" header-align=\"center\" align=\"center\" sortable label=\"ID\"></el-table-column>\r\n          <el-table-column prop=\"name\" header-align=\"center\" align=\"center\" sortable label=\"名称\"></el-table-column>\r\n<!--          <el-table-column prop=\"value\" header-align=\"center\" align=\"center\" sortable label=\"值\"></el-table-column>-->\r\n          <el-table-column prop=\"value\" header-align=\"center\" align=\"center\"  label=\"图片\">\r\n            <template slot-scope=\"scope\">\r\n              <div v-if=\"scope.row.value\">\r\n                <img :src=\"scope.row.value.split(',')[0]\" class=\"news-image\">\r\n              </div>\r\n              <div v-else>无图片</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column fixed=\"right\" header-align=\"center\" align=\"center\" width=\"150\" label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                @click=\"addOrUpdateHandler(scope.row)\"\r\n                icon=\"el-icon-edit\"\r\n              >修改</el-button>\r\n              <el-button\r\n                type=\"danger\"\r\n                size=\"mini\"\r\n                @click=\"deleteHandler(scope.row)\"\r\n                icon=\"el-icon-delete\"\r\n              >删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n          @size-change=\"sizeChangeHandle\"\r\n          @current-change=\"currentChangeHandle\"\r\n          :current-page=\"pageIndex\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"pageSize\"\r\n          :total=\"totalPage\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          class=\"pagination-content\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n    <!-- 添加/修改页面  将父组件的search方法传递给子组件-->\r\n    <add-or-update v-else :parent=\"this\" ref=\"addOrUpdate\" :isEditing=\"isEditing\"></add-or-update>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddOrUpdate from \"./add-or-update\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      totalPage: 0,\r\n      dataListLoading: false,\r\n      showFlag: false,\r\n      isEditing: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getDataList();\r\n  },\r\n  components: {\r\n    AddOrUpdate\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      this.$http({\r\n        url: this.$api.configpage,\r\n        method: \"get\",\r\n        params: {\r\n          page: this.pageIndex,\r\n          limit: this.pageSize,\r\n          sort: 'id'\r\n        }\r\n      }).then(({ data }) => {\r\n        if (data && data.code === 0) {\r\n          this.dataList = data.data.list;\r\n          this.totalPage = data.data.total;\r\n        } else {\r\n          this.dataList = [];\r\n          this.totalPage = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 添加/修改\r\n    addOrUpdateHandler(row) {\r\n      this.isEditing = !!row.id;\r\n      this.showFlag = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.addOrUpdate.init(row);\r\n      });\r\n    },\r\n    // 删除配置\r\n    deleteHandler(row) {\r\n      this.$confirm('此操作将永久删除该配置, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http({\r\n          url: this.$api.configpage + '/' + row.id,\r\n          method: 'delete'\r\n        }).then(({ data }) => {\r\n          if (data && data.code === 0) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            });\r\n            this.getDataList();\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main-content {\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, #f5f7fa, #c3cfe2);\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-content1 {\r\n  background: #ffffff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  margin-top: 80px;\r\n}\r\n\r\n.el-table th {\r\n  background-color: #f9fafc;\r\n  color: #333;\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n\r\n.el-table td {\r\n  background-color: #ffffff;\r\n  color: #666;\r\n  text-align: center;\r\n}\r\n\r\n.el-table .el-table__row:nth-child(odd) {\r\n  background-color: #f4f8fb;\r\n}\r\n\r\n.el-button {\r\n  margin: 5px 0;\r\n  background: linear-gradient(135deg, #6dd5fa, #2980b9);\r\n  border: none;\r\n  color: #fff;\r\n  &:hover {\r\n    background: linear-gradient(135deg, #2980b9, #6dd5fa);\r\n  }\r\n}\r\n\r\n.el-pagination {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.el-pagination .el-pager li:not(.active) {\r\n  background-color: #f5f5f5;\r\n  color: #666;\r\n  border-radius: 4px;\r\n}\r\n\r\n.el-pagination .el-pager li.active {\r\n  background-color: #409eff;\r\n  color: #fff;\r\n  border-radius: 4px;\r\n}\r\n\r\n.el-pagination .el-icon-arrow-left,\r\n.el-pagination .el-icon-arrow-right {\r\n  color: #409eff;\r\n}\r\n\r\n.news-image {\r\n  width: 300px;\r\n  height: 200px;\r\n  object-fit: contain;\r\n}\r\n</style>\r\n"]}]}