{"remainingRequest":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\1\\Software-Engineering-Projects\\recruit-web\\src\\views\\modules\\config\\list.vue?vue&type=style&index=0&id=29725dce&lang=scss&scoped=true&","dependencies":[{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\src\\views\\modules\\config\\list.vue","mtime":1717224114246},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":1717224102190},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1717224112414},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\postcss-loader\\src\\index.js","mtime":1717224108391},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1717224111128},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717224099637},{"path":"E:\\1\\Software-Engineering-Projects\\recruit-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1717224112413}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubWFpbi1jb250ZW50IHsNCiAgcGFkZGluZzogMjBweDsNCiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y1ZjdmYSwgI2MzY2ZlMik7DQogIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7DQp9DQoNCi5oZWFkZXIgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOw0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0KDQoudGFibGUtY29udGVudDEgew0KICBiYWNrZ3JvdW5kOiAjZmZmZmZmOw0KICBwYWRkaW5nOiAyMHB4Ow0KICBib3JkZXItcmFkaXVzOiA4cHg7DQogIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICBtYXJnaW4tdG9wOiA4MHB4Ow0KfQ0KDQouZWwtdGFibGUgdGggew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZjOw0KICBjb2xvcjogIzMzMzsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCg0KLmVsLXRhYmxlIHRkIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgY29sb3I6ICM2NjY7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0NCg0KLmVsLXRhYmxlIC5lbC10YWJsZV9fcm93Om50aC1jaGlsZChvZGQpIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjhmYjsNCn0NCg0KLmVsLWJ1dHRvbiB7DQogIG1hcmdpbjogNXB4IDA7DQogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2ZGQ1ZmEsICMyOTgwYjkpOw0KICBib3JkZXI6IG5vbmU7DQogIGNvbG9yOiAjZmZmOw0KICAmOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMjk4MGI5LCAjNmRkNWZhKTsNCiAgfQ0KfQ0KDQouZWwtcGFnaW5hdGlvbiB7DQogIG1hcmdpbi10b3A6IDIwcHg7DQogIHRleHQtYWxpZ246IHJpZ2h0Ow0KfQ0KDQouZWwtcGFnaW5hdGlvbiAuZWwtcGFnZXIgbGk6bm90KC5hY3RpdmUpIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsNCiAgY29sb3I6ICM2NjY7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCn0NCg0KLmVsLXBhZ2luYXRpb24gLmVsLXBhZ2VyIGxpLmFjdGl2ZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICM0MDllZmY7DQogIGNvbG9yOiAjZmZmOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQoNCi5lbC1wYWdpbmF0aW9uIC5lbC1pY29uLWFycm93LWxlZnQsDQouZWwtcGFnaW5hdGlvbiAuZWwtaWNvbi1hcnJvdy1yaWdodCB7DQogIGNvbG9yOiAjNDA5ZWZmOw0KfQ0KDQoubmV3cy1pbWFnZSB7DQogIHdpZHRoOiAzMDBweDsNCiAgaGVpZ2h0OiAyMDBweDsNCiAgb2JqZWN0LWZpdDogY29udGFpbjsNCn0NCg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/modules/config","sourcesContent":["<template>\r\n  <div class=\"main-content\">\r\n    <!-- 列表页 -->\r\n    <div v-if=\"!showFlag\">\r\n      <div class=\"header\">\r\n<!--        <el-button type=\"primary\" @click=\"addOrUpdateHandler({})\" icon=\"el-icon-plus\">添加新配置</el-button>-->\r\n      </div>\r\n      <div class=\"table-content1\">\r\n        <el-table :data=\"dataList\" border stripe v-loading=\"dataListLoading\" style=\"width: 100%;\">\r\n          <el-table-column prop=\"id\" header-align=\"center\" align=\"center\" sortable label=\"ID\"></el-table-column>\r\n          <el-table-column prop=\"name\" header-align=\"center\" align=\"center\" sortable label=\"名称\"></el-table-column>\r\n<!--          <el-table-column prop=\"value\" header-align=\"center\" align=\"center\" sortable label=\"值\"></el-table-column>-->\r\n          <el-table-column prop=\"value\" header-align=\"center\" align=\"center\"  label=\"图片\">\r\n            <template slot-scope=\"scope\">\r\n              <div v-if=\"scope.row.value\">\r\n                <img :src=\"scope.row.value.split(',')[0]\" class=\"news-image\">\r\n              </div>\r\n              <div v-else>无图片</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column fixed=\"right\" header-align=\"center\" align=\"center\" width=\"150\" label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                @click=\"addOrUpdateHandler(scope.row)\"\r\n                icon=\"el-icon-edit\"\r\n              >修改</el-button>\r\n              <el-button\r\n                type=\"danger\"\r\n                size=\"mini\"\r\n                @click=\"deleteHandler(scope.row)\"\r\n                icon=\"el-icon-delete\"\r\n              >删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n          @size-change=\"sizeChangeHandle\"\r\n          @current-change=\"currentChangeHandle\"\r\n          :current-page=\"pageIndex\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"pageSize\"\r\n          :total=\"totalPage\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          class=\"pagination-content\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n    <!-- 添加/修改页面  将父组件的search方法传递给子组件-->\r\n    <add-or-update v-else :parent=\"this\" ref=\"addOrUpdate\" :isEditing=\"isEditing\"></add-or-update>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddOrUpdate from \"./add-or-update\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      totalPage: 0,\r\n      dataListLoading: false,\r\n      showFlag: false,\r\n      isEditing: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getDataList();\r\n  },\r\n  components: {\r\n    AddOrUpdate\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 获取数据列表\r\n    getDataList() {\r\n      this.dataListLoading = true;\r\n      this.$http({\r\n        url: this.$api.configpage,\r\n        method: \"get\",\r\n        params: {\r\n          page: this.pageIndex,\r\n          limit: this.pageSize,\r\n          sort: 'id'\r\n        }\r\n      }).then(({ data }) => {\r\n        if (data && data.code === 0) {\r\n          this.dataList = data.data.list;\r\n          this.totalPage = data.data.total;\r\n        } else {\r\n          this.dataList = [];\r\n          this.totalPage = 0;\r\n        }\r\n        this.dataListLoading = false;\r\n      });\r\n    },\r\n    // 每页数\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.getDataList();\r\n    },\r\n    // 当前页\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getDataList();\r\n    },\r\n    // 添加/修改\r\n    addOrUpdateHandler(row) {\r\n      this.isEditing = !!row.id;\r\n      this.showFlag = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.addOrUpdate.init(row);\r\n      });\r\n    },\r\n    // 删除配置\r\n    deleteHandler(row) {\r\n      this.$confirm('此操作将永久删除该配置, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http({\r\n          url: this.$api.configpage + '/' + row.id,\r\n          method: 'delete'\r\n        }).then(({ data }) => {\r\n          if (data && data.code === 0) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            });\r\n            this.getDataList();\r\n          } else {\r\n            this.$message.error(data.msg);\r\n          }\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main-content {\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, #f5f7fa, #c3cfe2);\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-content1 {\r\n  background: #ffffff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  margin-top: 80px;\r\n}\r\n\r\n.el-table th {\r\n  background-color: #f9fafc;\r\n  color: #333;\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n\r\n.el-table td {\r\n  background-color: #ffffff;\r\n  color: #666;\r\n  text-align: center;\r\n}\r\n\r\n.el-table .el-table__row:nth-child(odd) {\r\n  background-color: #f4f8fb;\r\n}\r\n\r\n.el-button {\r\n  margin: 5px 0;\r\n  background: linear-gradient(135deg, #6dd5fa, #2980b9);\r\n  border: none;\r\n  color: #fff;\r\n  &:hover {\r\n    background: linear-gradient(135deg, #2980b9, #6dd5fa);\r\n  }\r\n}\r\n\r\n.el-pagination {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.el-pagination .el-pager li:not(.active) {\r\n  background-color: #f5f5f5;\r\n  color: #666;\r\n  border-radius: 4px;\r\n}\r\n\r\n.el-pagination .el-pager li.active {\r\n  background-color: #409eff;\r\n  color: #fff;\r\n  border-radius: 4px;\r\n}\r\n\r\n.el-pagination .el-icon-arrow-left,\r\n.el-pagination .el-icon-arrow-right {\r\n  color: #409eff;\r\n}\r\n\r\n.news-image {\r\n  width: 300px;\r\n  height: 200px;\r\n  object-fit: contain;\r\n}\r\n</style>\r\n"]}]}